parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"S95d":[function(require,module,exports) {
var e=e||{};window.SNAKE=e,e.addEventListener=window.addEventListener?function(e,n,t,a){e.addEventListener(n,t,a)}:window.attachEvent?function(e,n,t){e.attachEvent("on"+n,t)}:void 0,e.removeEventListener=window.removeEventListener?function(e,n,t,a){e.removeEventListener(n,t,a)}:window.detachEvent?function(e,n,t){e.detachEvent("on"+n,t)}:void 0,e.Snake=e.Snake||function(){var e=[],n=function(){this.elm=null,this.elmStyle=null,this.row=-1,this.col=-1,this.xPos=-1e3,this.yPos=-1e3,this.next=null,this.prev=null};return function(t){if(t&&t.playingBoard){void 0===localStorage.jsSnakeHighScore&&localStorage.setItem("jsSnakeHighScore",0);var a=this,o=t.playingBoard,d=(0,1),i=-1,l=!0,s=!0,r=-1,c=[0,1,0,-1],u=[-1,0,1,0],m=[],h=[],k=80,g=!1,p=!1,y=document.getElementById("selectMode");y&&y.addEventListener("change",function(e){var n=(e=e||{}).target?parseInt(e.target.value):75;isNaN(n)?n=75:n<50&&(n=75),k=n,setTimeout(function(){document.getElementById("game-area").focus()},10)}),a.snakeBody={},a.snakeBody.b0=new n,a.snakeBody.b0.row=t.startRow||1,a.snakeBody.b0.col=t.startCol||1,a.snakeBody.b0.xPos=a.snakeBody.b0.row*o.getBlockWidth(),a.snakeBody.b0.yPos=a.snakeBody.b0.col*o.getBlockHeight(),a.snakeBody.b0.elm=f(),a.snakeBody.b0.elmStyle=a.snakeBody.b0.elm.style,o.getBoardContainer().appendChild(a.snakeBody.b0.elm),a.snakeBody.b0.elm.style.left=a.snakeBody.b0.xPos+"px",a.snakeBody.b0.elm.style.top=a.snakeBody.b0.yPos+"px",a.snakeBody.b0.next=a.snakeBody.b0,a.snakeBody.b0.prev=a.snakeBody.b0,a.snakeLength=1,a.snakeHead=a.snakeBody.b0,a.snakeTail=a.snakeBody.b0,a.snakeHead.elm.className=a.snakeHead.elm.className.replace(/\bsnake-snakebody-dead\b/,""),a.snakeHead.elm.className+=" snake-snakebody-alive",a.setPaused=function(e){p=e},a.getPaused=function(){return p},a.handleArrowKeys=function(e){if(!g&&!p){a.snakeLength;var n=-1;switch(e){case 37:case 65:n=3;break;case 38:case 87:n=0;break;case 39:case 68:n=1;break;case 40:case 83:n=2}r!==d&&(i=n),(2!==Math.abs(n-d)&&l||s)&&(r=n,l=!1,s=!1)}},a.go=function(){var e=a.snakeHead,n=a.snakeTail,t=o.grid;if(!0!==p){if(a.snakeTail=n.prev,a.snakeHead=n,t[n.row]&&t[n.row][n.col]&&(t[n.row][n.col]=0),-1!==r&&(d=r,-1!==i&&(r=i,i=-1)),l=!0,n.col=e.col+c[d],n.row=e.row+u[d],n.xPos=e.xPos+m[d],n.yPos=e.yPos+h[d],n.elmStyle||(n.elmStyle=n.elm.style),n.elmStyle.left=n.xPos+"px",n.elmStyle.top=n.yPos+"px",0===t[n.row][n.col])t[n.row][n.col]=1,setTimeout(function(){a.go()},k);else if(t[n.row][n.col]>0)a.handleDeath();else if(t[n.row][n.col]===o.getGridFoodValue()){if(t[n.row][n.col]=1,!a.eatFood())return void a.handleWin();setTimeout(function(){a.go()},k)}}else setTimeout(function(){a.go()},k)},a.eatFood=function(){e.length<=5&&v(10);for(var n,t=e.splice(0,5),d=t.length,i=a.snakeTail;d--;)n="b"+a.snakeLength++,a.snakeBody[n]=t[d],a.snakeBody[n].prev=i,a.snakeBody[n].elm.className=a.snakeHead.elm.className.replace(/\bsnake-snakebody-dead\b/,""),a.snakeBody[n].elm.className+=" snake-snakebody-alive",i.next=a.snakeBody[n],i=a.snakeBody[n];return a.snakeTail=a.snakeBody[n],a.snakeTail.next=a.snakeHead,a.snakeHead.prev=a.snakeTail,!!o.foodEaten()},a.handleDeath=function(){w(o.handleDeath)},a.handleWin=function(){w(o.handleWin)},a.rebirth=function(){g=!1,l=!0,s=!0,i=-1,a.eatFood()},a.reset=function(){if(!1!==g){for(var n,d=[],i=a.snakeHead.next;i!==a.snakeHead;)n=i.next,i.prev=null,i.next=null,d.push(i),i=n;a.snakeHead.next=a.snakeHead,a.snakeHead.prev=a.snakeHead,a.snakeTail=a.snakeHead,a.snakeLength=1;for(var l=0;l<d.length;l++)d[l].elm.style.left="-1000px",d[l].elm.style.top="-1000px",d[l].elm.className=a.snakeHead.elm.className.replace(/\bsnake-snakebody-dead\b/,""),d[l].elm.className+=" snake-snakebody-alive";e.concat(d),a.snakeHead.elm.className=a.snakeHead.elm.className.replace(/\bsnake-snakebody-dead\b/,""),a.snakeHead.elm.className+=" snake-snakebody-alive",a.snakeHead.row=t.startRow||1,a.snakeHead.col=t.startCol||1,a.snakeHead.xPos=a.snakeHead.row*o.getBlockWidth(),a.snakeHead.yPos=a.snakeHead.col*o.getBlockHeight(),a.snakeHead.elm.style.left=a.snakeHead.xPos+"px",a.snakeHead.elm.style.top=a.snakeHead.yPos+"px"}},v(10),m[0]=0,m[1]=o.getBlockWidth(),m[2]=0,m[3]=-1*o.getBlockWidth(),h[0]=-1*o.getBlockHeight(),h[1]=0,h[2]=o.getBlockHeight(),h[3]=0}function f(){var e=document.createElement("div");return e.className="snake-snakebody-block",e.style.left="-1000px",e.style.top="-1000px",e.style.width=o.getBlockWidth()+"px",e.style.height=o.getBlockHeight()+"px",e}function v(t){for(var a,d=f(),i=1;i<t;i++)(a=new n).elm=d.cloneNode(!0),a.elmStyle=a.elm.style,o.getBoardContainer().appendChild(a.elm),e[e.length]=a;(a=new n).elm=d,o.getBoardContainer().appendChild(a.elm),e[e.length]=a}function w(e){var n;n=localStorage.jsSnakeHighScore,a.snakeLength>n&&(alert("Congratulations! You have beaten your previous high score, which was "+n+"."),localStorage.setItem("jsSnakeHighScore",a.snakeLength)),a.snakeHead.elm.style.zIndex=function(e){var n,t=0,a=0;for(n in e)e[n].elm.currentStyle?a=parseFloat(e[n].elm.style["z-index"],10):window.getComputedStyle&&(a=parseFloat(document.defaultView.getComputedStyle(e[n].elm,null).getPropertyValue("z-index"),10)),!isNaN(a)&&a>t&&(t=a);return t+1}(a.snakeBody),a.snakeHead.elm.className=a.snakeHead.elm.className.replace(/\bsnake-snakebody-alive\b/,""),a.snakeHead.elm.className+=" snake-snakebody-dead",g=!0,e()}}}(),e.Food=e.Food||function(){var e=0;function n(e,n){return Math.floor(Math.random()*(n+1-e))+e}return function(t){if(t&&t.playingBoard){var a,o,d=t.playingBoard,i=e++,l=document.createElement("div");l.setAttribute("id","snake-food-"+i),l.className="snake-food-block",l.style.width=d.getBlockWidth()+"px",l.style.height=d.getBlockHeight()+"px",l.style.left="-1000px",l.style.top="-1000px",d.getBoardContainer().appendChild(l),this.getFoodElement=function(){return l},this.randomlyPlaceFood=function(){d.grid[a]&&d.grid[a][o]===d.getGridFoodValue()&&(d.grid[a][o]=0);for(var e=0,t=0,i=0,s=d.grid.length-1,r=d.grid[0].length-1;0!==d.grid[e][t];)if(e=n(1,s),t=n(1,r),++i>2e4)return!1;return d.grid[e][t]=d.getGridFoodValue(),a=e,o=t,l.style.top=e*d.getBlockHeight()+"px",l.style.left=t*d.getBlockWidth()+"px",!0}}}}(),e.Board=e.Board||function(){var n=0;function t(e){var n,t=0,a=0;for(n in e)e[n].elm.currentStyle?a=parseFloat(e[n].elm.style["z-index"],10):window.getComputedStyle&&(a=parseFloat(document.defaultView.getComputedStyle(e[n].elm,null).getPropertyValue("z-index"),10)),!isNaN(a)&&a>t&&(t=a);return t+1}return function(a){var o,d,i,l,s,r,c,u,m,h,k,g=this,p=n++,y=a||{},f=250,v=250,w=1,B=!1;function b(){(s=document.createElement("div")).setAttribute("id","playingField"),s.className="snake-playing-field",e.addEventListener(s,"click",function(){l.focus()},!1),(k=document.createElement("div")).className="modal-wrapper",k.innerHTML="<div class='modal'><div class='snake-pause-screen'><div>[Paused]</div> <p>Press [space] to unpause.</p></div></div>",(r=document.createElement("div")).className="snake-panel-component",r.innerHTML="Length: 1",(c=document.createElement("div")).className="snake-panel-component",c.innerHTML="Highscore: "+(localStorage.jsSnakeHighScore||0),u=function(){var n=document.createElement("div");n.id="sbWelcome"+p,n.className="modal-wrapper";var t=document.createElement("div");t.className="modal";y.fullScreen&&"On Windows, press F11 to play in Full Screen mode.";t.innerHTML="<div class='snake-welcome-dialog'><h1>JavaScript Snake</h1>Swipe or use the <strong>arrow keys</strong> on your keyboard to play the game.</div>";var a=document.createElement("button");a.appendChild(document.createTextNode("Play Game"));var o=function(){e.removeEventListener(window,"keyup",d,!1),n.style.display="none",g.setBoardState(1),g.getBoardContainer().focus()},d=function(e){if(!e)var e=window.event;var n=e.which?e.which:e.keyCode;32!==n&&13!==n||o()};return e.addEventListener(window,"keyup",d,!1),e.addEventListener(a,"click",o,!1),t.appendChild(a),n.appendChild(t),n}(),m=H("You died :(","sbTryAgain","snake-try-again-dialog"),h=H("You win! :D","sbWin","snake-win-dialog"),e.addEventListener(l,"keyup",function(e){if(!e)e=window.event;return e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),!1},!1),l.className="snake-game-container",elmFooter=document.querySelector(".snake-footer"),elmFooter.appendChild(r),l.appendChild(k),l.appendChild(s),l.appendChild(u),l.appendChild(m),l.appendChild(h),d=new e.Snake({playingBoard:g,startRow:20,startCol:20}),o=new e.Food({playingBoard:g}),u.style.display="block";var n=new Hammer.Manager(l),t=new Hammer.Swipe,a=function(e){1===w?(d.rebirth(),d.handleArrowKeys(e),g.setBoardState(2),d.go()):d.handleArrowKeys(e)};n.add(t),n.on("swipeleft",function(){a(37)}),n.on("swiperight",function(){a(39)}),n.on("swipeup",function(){a(38)}),n.on("swipedown",function(){a(40)})}function H(n,t,a){var o=document.createElement("div");o.id=t+p,o.className="modal-wrapper";var d=document.createElement("div");d.className="modal",d.innerHTML="<div class='"+a+"'>JavaScript Snake <p>"+n+"</p></div>";var i=document.createElement("button");i.appendChild(document.createTextNode("Play Again?"));var l=function(){o.style.display="none",g.resetBoard(),g.setBoardState(1),g.getBoardContainer().focus()};return e.addEventListener(window,"keyup",function(e){if(0===w&&"block"===o.style.display){e||(e=window.event);var n=e.which?e.which:e.keyCode;32!==n&&13!==n||l()}},!0),e.addEventListener(i,"click",l,!1),d.appendChild(i),o.appendChild(d),o}function S(e){Math.max(t(d.snakeBody),t({tmp:{elm:o.getFoodElement()}}));l.removeChild(e),l.appendChild(e),e.style.display="block",g.setBoardState(0)}g.grid=[],g.setPaused=function(e){B=e,d.setPaused(e),k.style.display=B?"block":"none"},g.getPaused=function(){return B},g.resetBoard=function(){e.removeEventListener(l,"keydown",i,!1),d.reset(),r.innerHTML="Length: 1",g.setupPlayingField()},g.getBoardState=function(){return w},g.setBoardState=function(e){w=e},g.getGridFoodValue=function(){return-1},g.getPlayingFieldElement=function(){return s},g.setBoardContainer=function(e){"string"==typeof e&&(e=document.getElementById(e)),e!==l&&(l=e,s=null,g.setupPlayingField())},g.getBoardContainer=function(){return l},g.getBlockWidth=function(){return 15},g.getBlockHeight=function(){return 15},g.setupPlayingField=function(){var n,t,a,r;s||b(),!0===y.fullScreen?(0,0,r=0,"number"==typeof window.innerWidth?r=window.innerWidth:document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?r=document.documentElement.clientWidth:document.body&&(document.body.clientWidth||document.body.clientHeight)&&(r=document.body.clientWidth),n=r,a=0,"number"==typeof window.innerHeight?a=window.innerHeight:document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?a=document.documentElement.clientHeight:document.body&&(document.body.clientWidth||document.body.clientHeight)&&(a=document.body.clientHeight),t=a):(y.top,y.left,n=y.width,t=y.height);var c=g.getBlockWidth()+n%g.getBlockWidth(),u=Math.min(f*g.getBlockWidth()-c,n-c),m=g.getBlockHeight()+t%g.getBlockHeight(),h=Math.min(v*g.getBlockHeight()-m,t-m);s.style.left=g.getBlockWidth()+"px",s.style.top=g.getBlockHeight()+"px",s.style.width=u+"px",s.style.height=h+"px";var k=m-g.getBlockHeight();g.getBlockHeight(),Math.round((k-30)/2);g.grid=[];for(var p=u/g.getBlockWidth()+2,w=h/g.getBlockHeight()+2,B=0;B<w;B++){g.grid[B]=[];for(var H=0;H<p;H++)g.grid[B][H]=0===H||0===B||H===p-1||B===w-1?1:0}o.randomlyPlaceFood(),i=function(n){if(!n)n=window.event;var t=n.which?n.which:n.keyCode;if(1===g.getBoardState()){if(!(t>=37&&t<=40)&&87!==t&&65!==t&&83!==t&&68!==t)return;e.removeEventListener(l,"keydown",i,!1),i=function(e){if(!e)e=window.event;var n=e.which?e.which:e.keyCode;return 32===n&&0!=g.getBoardState()&&g.setPaused(!g.getPaused()),d.handleArrowKeys(n),e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),!1},e.addEventListener(l,"keydown",i,!1),d.rebirth(),d.handleArrowKeys(t),g.setBoardState(2),d.go()}return n.cancelBubble=!0,n.stopPropagation&&n.stopPropagation(),n.preventDefault&&n.preventDefault(),!1},e.addEventListener(l,"keydown",i,!1)},g.foodEaten=function(){return r.innerHTML="Length: "+d.snakeLength,d.snakeLength>localStorage.jsSnakeHighScore&&(localStorage.setItem("jsSnakeHighScore",d.snakeLength),c.innerHTML="Highscore: "+localStorage.jsSnakeHighScore),!!o.randomlyPlaceFood()},g.handleDeath=function(){S(m)},g.handleWin=function(){S(h)},y.fullScreen=void 0!==y.fullScreen&&y.fullScreen,y.top=void 0===y.top?0:y.top,y.left=void 0===y.left?0:y.left,y.width=void 0===y.width?400:y.width,y.height=void 0===y.height?400:y.height,y.fullScreen&&e.addEventListener(window,"resize",function(){g.setupPlayingField()},!1),g.setBoardState(0),y.boardContainer&&g.setBoardContainer(y.boardContainer)}}();
},{}]},{},["S95d"], null)
//# sourceMappingURL=/snake.c469c9b0.js.map