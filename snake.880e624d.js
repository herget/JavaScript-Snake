parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"S95d":[function(require,module,exports) {
var e=e||{};window.SNAKE=e,e.addEventListener=window.addEventListener?function(e,n,t,a){e.addEventListener(n,t,a)}:window.attachEvent?function(e,n,t){e.attachEvent("on"+n,t)}:void 0,e.removeEventListener=window.removeEventListener?function(e,n,t,a){e.removeEventListener(n,t,a)}:window.detachEvent?function(e,n,t){e.detachEvent("on"+n,t)}:void 0,e.Snake=e.Snake||function(){var e=[],n=function(){this.elm=null,this.elmStyle=null,this.row=-1,this.col=-1,this.xPos=-1e3,this.yPos=-1e3,this.next=null,this.prev=null};return function(t){if(t&&t.playingBoard){void 0===localStorage.jsSnakeHighScore&&localStorage.setItem("jsSnakeHighScore",0);var a=this,o=t.playingBoard,d=(0,1),l=-1,i=!0,s=!0,r=-1,c=[0,1,0,-1],u=[-1,0,1,0],m=[],k=[],h=80,p=!1,g=!1,y=document.getElementById("selectMode");y&&y.addEventListener("change",function(e){var n=(e=e||{}).target?parseInt(e.target.value):75;isNaN(n)?n=75:n<50&&(n=75),h=n,setTimeout(function(){document.getElementById("game-area").focus()},10)}),a.snakeBody={},a.snakeBody.b0=new n,a.snakeBody.b0.row=t.startRow||1,a.snakeBody.b0.col=t.startCol||1,a.snakeBody.b0.xPos=a.snakeBody.b0.row*o.getBlockWidth(),a.snakeBody.b0.yPos=a.snakeBody.b0.col*o.getBlockHeight(),a.snakeBody.b0.elm=f(),a.snakeBody.b0.elmStyle=a.snakeBody.b0.elm.style,o.getBoardContainer().appendChild(a.snakeBody.b0.elm),a.snakeBody.b0.elm.style.left=a.snakeBody.b0.xPos+"px",a.snakeBody.b0.elm.style.top=a.snakeBody.b0.yPos+"px",a.snakeBody.b0.next=a.snakeBody.b0,a.snakeBody.b0.prev=a.snakeBody.b0,a.snakeLength=1,a.snakeHead=a.snakeBody.b0,a.snakeTail=a.snakeBody.b0,a.snakeHead.elm.className=a.snakeHead.elm.className.replace(/\bsnake-snakebody-dead\b/,""),a.snakeHead.elm.className+=" snake-snakebody-alive",a.setPaused=function(e){g=e},a.getPaused=function(){return g},a.handleArrowKeys=function(e){if(!p&&!g){a.snakeLength;var n=-1;switch(e){case 37:case 65:n=3;break;case 38:case 87:n=0;break;case 39:case 68:n=1;break;case 40:case 83:n=2}r!==d&&(l=n),(2!==Math.abs(n-d)&&i||s)&&(r=n,i=!1,s=!1)}},a.go=function(){var e=a.snakeHead,n=a.snakeTail,t=o.grid;if(!0!==g){if(a.snakeTail=n.prev,a.snakeHead=n,t[n.row]&&t[n.row][n.col]&&(t[n.row][n.col]=0),-1!==r&&(d=r,-1!==l&&(r=l,l=-1)),i=!0,n.col=e.col+c[d],n.row=e.row+u[d],n.xPos=e.xPos+m[d],n.yPos=e.yPos+k[d],n.elmStyle||(n.elmStyle=n.elm.style),n.elmStyle.left=n.xPos+"px",n.elmStyle.top=n.yPos+"px",0===t[n.row][n.col])t[n.row][n.col]=1,setTimeout(function(){a.go()},h);else if(t[n.row][n.col]>0)a.handleDeath();else if(t[n.row][n.col]===o.getGridFoodValue()){if(t[n.row][n.col]=1,!a.eatFood())return void a.handleWin();setTimeout(function(){a.go()},h)}}else setTimeout(function(){a.go()},h)},a.eatFood=function(){e.length<=5&&v(10);for(var n,t=e.splice(0,5),d=t.length,l=a.snakeTail;d--;)n="b"+a.snakeLength++,a.snakeBody[n]=t[d],a.snakeBody[n].prev=l,a.snakeBody[n].elm.className=a.snakeHead.elm.className.replace(/\bsnake-snakebody-dead\b/,""),a.snakeBody[n].elm.className+=" snake-snakebody-alive",l.next=a.snakeBody[n],l=a.snakeBody[n];return a.snakeTail=a.snakeBody[n],a.snakeTail.next=a.snakeHead,a.snakeHead.prev=a.snakeTail,!!o.foodEaten()},a.handleDeath=function(){w(o.handleDeath)},a.handleWin=function(){w(o.handleWin)},a.rebirth=function(){p=!1,i=!0,s=!0,l=-1},a.reset=function(){if(!1!==p){for(var n,d=[],l=a.snakeHead.next;l!==a.snakeHead;)n=l.next,l.prev=null,l.next=null,d.push(l),l=n;a.snakeHead.next=a.snakeHead,a.snakeHead.prev=a.snakeHead,a.snakeTail=a.snakeHead,a.snakeLength=1;for(var i=0;i<d.length;i++)d[i].elm.style.left="-1000px",d[i].elm.style.top="-1000px",d[i].elm.className=a.snakeHead.elm.className.replace(/\bsnake-snakebody-dead\b/,""),d[i].elm.className+=" snake-snakebody-alive";e.concat(d),a.snakeHead.elm.className=a.snakeHead.elm.className.replace(/\bsnake-snakebody-dead\b/,""),a.snakeHead.elm.className+=" snake-snakebody-alive",a.snakeHead.row=t.startRow||1,a.snakeHead.col=t.startCol||1,a.snakeHead.xPos=a.snakeHead.row*o.getBlockWidth(),a.snakeHead.yPos=a.snakeHead.col*o.getBlockHeight(),a.snakeHead.elm.style.left=a.snakeHead.xPos+"px",a.snakeHead.elm.style.top=a.snakeHead.yPos+"px"}},v(10),m[0]=0,m[1]=o.getBlockWidth(),m[2]=0,m[3]=-1*o.getBlockWidth(),k[0]=-1*o.getBlockHeight(),k[1]=0,k[2]=o.getBlockHeight(),k[3]=0}function f(){var e=document.createElement("div");return e.className="snake-snakebody-block",e.style.left="-1000px",e.style.top="-1000px",e.style.width=o.getBlockWidth()+"px",e.style.height=o.getBlockHeight()+"px",e}function v(t){for(var a,d=f(),l=1;l<t;l++)(a=new n).elm=d.cloneNode(!0),a.elmStyle=a.elm.style,o.getBoardContainer().appendChild(a.elm),e[e.length]=a;(a=new n).elm=d,o.getBoardContainer().appendChild(a.elm),e[e.length]=a}function w(e){var n;n=localStorage.jsSnakeHighScore,a.snakeLength>n&&(alert("Congratulations! You have beaten your previous high score, which was "+n+"."),localStorage.setItem("jsSnakeHighScore",a.snakeLength)),a.snakeHead.elm.style.zIndex=function(e){var n,t=0,a=0;for(n in e)e[n].elm.currentStyle?a=parseFloat(e[n].elm.style["z-index"],10):window.getComputedStyle&&(a=parseFloat(document.defaultView.getComputedStyle(e[n].elm,null).getPropertyValue("z-index"),10)),!isNaN(a)&&a>t&&(t=a);return t+1}(a.snakeBody),a.snakeHead.elm.className=a.snakeHead.elm.className.replace(/\bsnake-snakebody-alive\b/,""),a.snakeHead.elm.className+=" snake-snakebody-dead",p=!0,e()}}}(),e.Food=e.Food||function(){var e=0;function n(e,n){return Math.floor(Math.random()*(n+1-e))+e}return function(t){if(t&&t.playingBoard){var a,o,d=t.playingBoard,l=e++,i=document.createElement("div");i.setAttribute("id","snake-food-"+l),i.className="snake-food-block",i.style.width=d.getBlockWidth()+"px",i.style.height=d.getBlockHeight()+"px",i.style.left="-1000px",i.style.top="-1000px",d.getBoardContainer().appendChild(i),this.getFoodElement=function(){return i},this.randomlyPlaceFood=function(){d.grid[a]&&d.grid[a][o]===d.getGridFoodValue()&&(d.grid[a][o]=0);for(var e=0,t=0,l=0,s=d.grid.length-1,r=d.grid[0].length-1;0!==d.grid[e][t];)if(e=n(1,s),t=n(1,r),++l>2e4)return!1;return d.grid[e][t]=d.getGridFoodValue(),a=e,o=t,i.style.top=e*d.getBlockHeight()+"px",i.style.left=t*d.getBlockWidth()+"px",!0}}}}(),e.Board=e.Board||function(){var n=0;function t(e){var n,t=0,a=0;for(n in e)e[n].elm.currentStyle?a=parseFloat(e[n].elm.style["z-index"],10):window.getComputedStyle&&(a=parseFloat(document.defaultView.getComputedStyle(e[n].elm,null).getPropertyValue("z-index"),10)),!isNaN(a)&&a>t&&(t=a);return t+1}return function(a){var o,d,l,i,s,r,c,u,m,k,h,p,g=this,y=n++,f=a||{},v=250,w=250,B=1,b=!1;function H(){(s=document.createElement("div")).setAttribute("id","playingField"),s.className="snake-playing-field",e.addEventListener(s,"click",function(){i.focus()},!1),(p=document.createElement("div")).className="modal-wrapper",p.innerHTML="<div class='modal'><div class='snake-pause-screen'><div>[Paused]</div> <p>Press [space] to unpause.</p></div></div>",(r=document.createElement("div")).className="snake-panel-component",r.innerHTML="<a href='http://patorjk.com/blog/software/' class='snake-link'>more patorjk.com apps</a> - <a href='https://github.com/patorjk/JavaScript-Snake' class='snake-link'>source code</a> - <a href='https://www.instagram.com/patorjk/' class='snake-link'>pat's instagram</a>",(c=document.createElement("div")).className="snake-panel-component",c.innerHTML="Length: 1",(u=document.createElement("div")).className="snake-panel-component",u.innerHTML="Highscore: "+(localStorage.jsSnakeHighScore||0),m=function(){var n=document.createElement("div");n.id="sbWelcome"+y,n.className="modal-wrapper";var t=document.createElement("div");t.className="modal";f.fullScreen&&"On Windows, press F11 to play in Full Screen mode.";t.innerHTML="<div class='snake-welcome-dialog'><h1>JavaScript Snake</h1>Swipe or use the <strong>arrow keys</strong> on your keyboard to play the game.</div>";var a=document.createElement("button");a.appendChild(document.createTextNode("Play Game"));var o=function(){e.removeEventListener(window,"keyup",d,!1),n.style.display="none",g.setBoardState(1),g.getBoardContainer().focus()},d=function(e){if(!e)var e=window.event;var n=e.which?e.which:e.keyCode;32!==n&&13!==n||o()};return e.addEventListener(window,"keyup",d,!1),e.addEventListener(a,"click",o,!1),t.appendChild(a),n.appendChild(t),n}(),k=S("You died :(","sbTryAgain","snake-try-again-dialog"),h=S("You win! :D","sbWin","snake-win-dialog"),e.addEventListener(i,"keyup",function(e){if(!e)e=window.event;return e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),!1},!1),i.className="snake-game-container",elmFooter=document.createElement("div"),elmFooter.className="snake-footer",elmFooter.appendChild(r),elmFooter.appendChild(c),elmFooter.appendChild(u),p.style.zIndex=1e4,i.appendChild(p),i.appendChild(s),i.appendChild(m),i.appendChild(k),i.appendChild(h),i.appendChild(elmFooter),d=new e.Snake({playingBoard:g,startRow:2,startCol:2}),o=new e.Food({playingBoard:g}),m.style.zIndex=1e3,m.style.display="block";var n=new Hammer.Manager(i),t=new Hammer.Swipe,a=function(e){1===B?(d.rebirth(),d.handleArrowKeys(e),g.setBoardState(2),d.go()):d.handleArrowKeys(e)};n.add(t),n.on("swipeleft",function(){a(37)}),n.on("swiperight",function(){a(39)}),n.on("swipeup",function(){a(38)}),n.on("swipedown",function(){a(40)})}function S(n,t,a){var o=document.createElement("div");o.id=t+y,o.className="modal-wrapper";var d=document.createElement("div");d.className="modal",d.innerHTML="<div class='"+a+"'>JavaScript Snake <p>"+n+"</p></div>";var l=document.createElement("button");l.appendChild(document.createTextNode("Play Again?"));var i=function(){o.style.display="none",g.resetBoard(),g.setBoardState(1),g.getBoardContainer().focus()};return e.addEventListener(window,"keyup",function(e){if(0===B&&"block"===o.style.display){e||(e=window.event);var n=e.which?e.which:e.keyCode;32!==n&&13!==n||i()}},!0),e.addEventListener(l,"click",i,!1),d.appendChild(l),o.appendChild(d),o}function E(e){var n=Math.max(t(d.snakeBody),t({tmp:{elm:o.getFoodElement()}}));i.removeChild(e),i.appendChild(e),e.style.zIndex=n,e.style.display="block",g.setBoardState(0)}g.grid=[],g.setPaused=function(e){b=e,d.setPaused(e),p.style.display=b?"block":"none"},g.getPaused=function(){return b},g.resetBoard=function(){e.removeEventListener(i,"keydown",l,!1),d.reset(),c.innerHTML="Length: 1",g.setupPlayingField()},g.getBoardState=function(){return B},g.setBoardState=function(e){B=e},g.getGridFoodValue=function(){return-1},g.getPlayingFieldElement=function(){return s},g.setBoardContainer=function(e){"string"==typeof e&&(e=document.getElementById(e)),e!==i&&(i=e,s=null,g.setupPlayingField())},g.getBoardContainer=function(){return i},g.getBlockWidth=function(){return 20},g.getBlockHeight=function(){return 20},g.setupPlayingField=function(){var n,t,a,c;s||H(),!0===f.fullScreen?(0,0,c=0,"number"==typeof window.innerWidth?c=window.innerWidth:document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?c=document.documentElement.clientWidth:document.body&&(document.body.clientWidth||document.body.clientHeight)&&(c=document.body.clientWidth),n=c,a=0,"number"==typeof window.innerHeight?a=window.innerHeight:document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?a=document.documentElement.clientHeight:document.body&&(document.body.clientWidth||document.body.clientHeight)&&(a=document.body.clientHeight),t=a):(f.top,f.left,n=f.width,t=f.height);var u=g.getBlockWidth()+n%g.getBlockWidth(),m=Math.min(v*g.getBlockWidth()-u,n-u),k=g.getBlockHeight()+t%g.getBlockHeight(),h=Math.min(w*g.getBlockHeight()-k,t-k);s.style.left=g.getBlockWidth()+"px",s.style.top=g.getBlockHeight()+"px",s.style.width=m+"px",s.style.height=h+"px";var p=k-g.getBlockHeight();g.getBlockHeight(),Math.round((p-30)/2);r.style.display=n<700?"none":"block",g.grid=[];for(var y=m/g.getBlockWidth()+2,B=h/g.getBlockHeight()+2,b=0;b<B;b++){g.grid[b]=[];for(var S=0;S<y;S++)g.grid[b][S]=0===S||0===b||S===y-1||b===B-1?1:0}o.randomlyPlaceFood(),l=function(n){if(!n)n=window.event;var t=n.which?n.which:n.keyCode;if(1===g.getBoardState()){if(!(t>=37&&t<=40)&&87!==t&&65!==t&&83!==t&&68!==t)return;e.removeEventListener(i,"keydown",l,!1),l=function(e){if(!e)e=window.event;var n=e.which?e.which:e.keyCode;return 32===n&&0!=g.getBoardState()&&g.setPaused(!g.getPaused()),d.handleArrowKeys(n),e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),!1},e.addEventListener(i,"keydown",l,!1),d.rebirth(),d.handleArrowKeys(t),g.setBoardState(2),d.go()}return n.cancelBubble=!0,n.stopPropagation&&n.stopPropagation(),n.preventDefault&&n.preventDefault(),!1},e.addEventListener(i,"keydown",l,!1)},g.foodEaten=function(){return c.innerHTML="Length: "+d.snakeLength,d.snakeLength>localStorage.jsSnakeHighScore&&(localStorage.setItem("jsSnakeHighScore",d.snakeLength),u.innerHTML="Highscore: "+localStorage.jsSnakeHighScore),!!o.randomlyPlaceFood()},g.handleDeath=function(){E(k)},g.handleWin=function(){E(h)},f.fullScreen=void 0!==f.fullScreen&&f.fullScreen,f.top=void 0===f.top?0:f.top,f.left=void 0===f.left?0:f.left,f.width=void 0===f.width?400:f.width,f.height=void 0===f.height?400:f.height,f.fullScreen&&e.addEventListener(window,"resize",function(){g.setupPlayingField()},!1),g.setBoardState(0),f.boardContainer&&g.setBoardContainer(f.boardContainer)}}();
},{}]},{},["S95d"], null)
//# sourceMappingURL=/snake.880e624d.js.map